<!DOCTYPE html>
<html>
<head>
  <!-- Required meta tags-->
  <meta charset="utf-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <!-- Color theme for statusbar (Android only) -->
  <meta name="theme-color" content="#00591F" />
  <!-- Your app title -->
  <title>Minha Loja - VitaTop</title>
  <!-- Path to Framework7 Library Bundle CSS -->
  <link rel="stylesheet" href="lib/framework7-bundle.min.css" />
  <!--Ícones Material Design-->
  <link rel="stylesheet" href="css/materialdesignicons.min.css" />
  <!-- Icones do Remix icon-->
  <link rel="stylesheet" href="css/remixicon/remixicon.css" />
</head>

<body>
  <!-- App root element -->
  <div id="app">
    <!-- Your main view, should have "view-main" class -->
    <div class="view view-main">
      <!-- Initial Page, "data-name" contains page name -->
      <div data-name="minha-loja" class="page color-theme-blue">
        <!-- NAV TOPO-->
        <div class="top-nav">
          <div class="left">
            <a href="/gestao/" class="link back-button">
              <i class="mdi mdi-arrow-left"></i>
            </a>
          </div>
          <strong class="title-descricao">Minha Loja</strong>
          <div class="right-icons">
            <!-- Botão de Notificações -->
            <div class="btn-notificacao" data-count="0" onclick="app.views.main.router.navigate('/notificacoes/')">
              <i class="mdi mdi-bell-outline"></i>
            </div>
            <!-- Botão do Carrinho -->
            <div class="btn-cart" data-count="0" onclick="app.views.main.router.navigate('/carrinho/')">
              <i class="mdi mdi-cart-outline"></i>
            </div>
          </div>
        </div>

        <!-- Scrollable page content -->
        <div class="page-content" style="background-color: #f7f9fa; padding-bottom: 160px">
          
          <!-- Tela de Bem-vindo (para quem não tem loja) -->
          <div id="welcome-screen" class="welcome-container display-none">
            <div class="welcome-card">
              <div class="welcome-icon">
                <i class="mdi mdi-store"></i>
              </div>
              <h2>Crie sua Loja Personalizada!</h2>
              <p>Tenha sua própria loja online e aumente suas vendas com um espaço totalmente personalizado.</p>
              
              <div class="benefits-list">
                <div class="benefit-item">
                  <i class="mdi mdi-check-circle"></i>
                  <span>Loja com seu nome</span>
                </div>
                <div class="benefit-item">
                  <i class="mdi mdi-check-circle"></i>
                  <span>Banners personalizados</span>
                </div>
                <div class="benefit-item">
                  <i class="mdi mdi-check-circle"></i>
                  <span>Link exclusivo para compartilhar</span>
                </div>
                <div class="benefit-item">
                  <i class="mdi mdi-check-circle"></i>
                  <span>Aumente suas vendas</span>
                </div>
              </div>

              <button class="btn-criar-loja" id="btnCriarLoja">
                <i class="mdi mdi-plus"></i>
                Criar Minha Loja
              </button>
            </div>
          </div>

          <!-- Formulário de Criação da Loja -->
          <div id="create-form" class="create-container display-none">
            <div class="step-indicator">
              <div class="step active" data-step="1">
                <span>1</span>
                <label>Nome da Loja</label>
              </div>
              <div class="step" data-step="2">
                <span>2</span>
                <label>Banner Principal</label>
              </div>
              <div class="step" data-step="3">
                <span>3</span>
                <label>Finalizar</label>
              </div>
            </div>

            <!-- Passo 1: Nome da Loja -->
            <div class="step-content" id="step-1">
              <div class="form-card">
                <div class="form-header">
                  <i class="mdi mdi-store-outline"></i>
                  <h3>Como quer chamar sua loja?</h3>
                  <p>Escolha um nome atrativo e fácil de lembrar</p>
                </div>

                <div class="form-group">
                  <label for="nomeLoja">Nome da Loja</label>
                  <input type="text" id="nomeLoja" placeholder="Ex: Loja da Maria, Suplementos do João..." maxlength="50">
                  <small>Máximo 50 caracteres</small>
                </div>

                <div class="preview-card">
                  <div class="preview-header">
                    <i class="mdi mdi-eye"></i>
                    <span>Prévia</span>
                  </div>
                  <div class="preview-content">
                    <div class="preview-logo">
                      <i class="mdi mdi-store"></i>
                    </div>
                    <h4 id="previewNome">Nome da sua loja aparecerá aqui</h4>
                    <span class="preview-tag">Distribuidor VitaTop</span>
                  </div>
                </div>

                <button class="btn-next" id="btnStep1Next" disabled>
                  Próximo Passo
                  <i class="mdi mdi-arrow-right"></i>
                </button>
              </div>
            </div>

            <!-- Passo 2: Banner Principal -->
            <div class="step-content display-none" id="step-2">
              <div class="form-card">
                <div class="form-header">
                  <i class="mdi mdi-image-outline"></i>
                  <h3>Adicione um banner principal</h3>
                  <p>Uma imagem atrativa para destacar sua loja</p>
                </div>

                <div class="upload-area" id="uploadArea">
                  <div class="upload-placeholder">
                    <i class="mdi mdi-cloud-upload"></i>
                    <h4>Clique para adicionar uma imagem</h4>
                    <p>Recomendamos: 1080x550px<br>Formatos: JPG, PNG</p>
                  </div>
                  <input type="file" id="bannerInput" accept="image/*" style="display: none;">
                </div>

                <div class="preview-banner display-none" id="previewBanner">
                  <img id="bannerPreview" alt="Preview do banner">
                  <button class="btn-remove-banner" id="btnRemoveBanner">
                    <i class="mdi mdi-close"></i>
                  </button>
                </div>

                <div class="form-actions">
                  <button class="btn-back" id="btnStep2Back">
                    <i class="mdi mdi-arrow-left"></i>
                    Voltar
                  </button>
                  <button class="btn-next" id="btnStep2Next">
                    Próximo Passo
                    <i class="mdi mdi-arrow-right"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Passo 3: Finalizar -->
            <div class="step-content display-none" id="step-3">
              <div class="form-card">
                <div class="form-header success">
                  <i class="mdi mdi-check-circle"></i>
                  <h3>Quase pronto!</h3>
                  <p>Revise as informações da sua loja</p>
                </div>

                <div class="summary-card">
                  <div class="summary-item">
                    <label>Nome da Loja:</label>
                    <span id="summaryNome">-</span>
                  </div>
                  <div class="summary-item">
                    <label>Banner:</label>
                    <span id="summaryBanner">Adicionado</span>
                  </div>
                  <div class="summary-item">
                    <label>Link da Loja:</label>
                    <div class="link-preview">
                      <span id="linkLoja">vitatop.com/loja/</span>
                      <button class="btn-copy-link" id="btnCopyLink">
                        <i class="mdi mdi-content-copy"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="form-actions">
                  <button class="btn-back" id="btnStep3Back">
                    <i class="mdi mdi-arrow-left"></i>
                    Voltar
                  </button>
                  <button class="btn-create" id="btnFinalizar">
                    <i class="mdi mdi-rocket"></i>
                    Criar Minha Loja
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Tela de Gerenciamento da Loja (para quem já tem loja) -->
          <div id="manage-screen" class="manage-container display-none">
            
            <!-- Header da Loja -->
            <div class="loja-header">
              <div class="loja-banner" id="lojaBannerAtual">
                <img id="bannerAtual" src="" alt="Banner da loja">
                <div class="loja-overlay">
                  <h2 id="nomeLojaAtual">Nome da Loja</h2>
                  <span class="loja-tag">Distribuidor VitaTop</span>
                </div>
              </div>
              <div class="loja-actions">
                <button class="btn-share-loja" id="btnCompartilharLoja">
                  <i class="mdi mdi-share"></i>
                  Compartilhar
                </button>
                <button class="btn-view-loja" id="btnVisualizarLoja">
                  <i class="mdi mdi-eye"></i>
                  Visualizar
                </button>
              </div>
            </div>

            <!-- Estatísticas Rápidas -->
            <div class="stats-container">
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="mdi mdi-eye"></i>
                </div>
                <div class="stat-info">
                  <span class="stat-number" id="visualizacoes">0</span>
                  <span class="stat-label">Visualizações</span>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="mdi mdi-cart"></i>
                </div>
                <div class="stat-info">
                  <span class="stat-number" id="vendas">0</span>
                  <span class="stat-label">Vendas</span>
                </div>
              </div>
            </div>

            <!-- Opções de Gerenciamento -->
            <div class="management-options">
              <h3 class="section-title">
                <i class="mdi mdi-cog"></i>
                Personalizar Loja
              </h3>

              <div class="option-card" id="editarNomeLoja">
                <div class="option-icon">
                  <i class="mdi mdi-store-edit"></i>
                </div>
                <div class="option-content">
                  <h4>Nome da Loja</h4>
                  <p>Alterar o nome da sua loja</p>
                </div>
                <div class="option-arrow">
                  <i class="mdi mdi-chevron-right"></i>
                </div>
              </div>

              <div class="option-card" id="gerenciarBanners">
                <div class="option-icon">
                  <i class="mdi mdi-image-multiple"></i>
                </div>
                <div class="option-content">
                  <h4>Banners</h4>
                  <p>Adicionar e gerenciar banners</p>
                </div>
                <div class="option-arrow">
                  <i class="mdi mdi-chevron-right"></i>
                </div>
              </div>

              <div class="option-card" id="configuracoes">
                <div class="option-icon">
                  <i class="mdi mdi-cog"></i>
                </div>
                <div class="option-content">
                  <h4>Configurações</h4>
                  <p>Outras configurações da loja</p>
                </div>
                <div class="option-arrow">
                  <i class="mdi mdi-chevron-right"></i>
                </div>
              </div>
            </div>
          </div>

          <!-- Popup para Editar Nome da Loja -->
          <div class="popup popup-editar-nome">
            <div class="view popup-view">
              <div class="page">
                <div class="top-nav">
                  <div class="left">
                    <a href="#" class="link btn-novo popup-close">
                      <i class="mdi mdi-arrow-left"></i>
                    </a>
                  </div>
                  <strong class="title-descricao">Editar Nome</strong>
                  <div style="width: 30px;"></div>
                </div>
                <div class="page-content">
                  <div class="block">
                    <div class="form-card">
                      <div class="form-group">
                        <label for="novoNomeLoja">Nome da Loja</label>
                        <input type="text" id="novoNomeLoja" placeholder="Digite o novo nome" maxlength="50">
                        <small>Máximo 50 caracteres</small>
                      </div>
                      <button class="btn-save" id="btnSalvarNome">
                        <i class="mdi mdi-check"></i>
                        Salvar Alterações
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Popup para Gerenciar Banners -->
          <div class="popup popup-banners">
            <div class="view popup-view">
              <div class="page">
                <div class="top-nav">
                  <div class="left">
                    <a href="#" class="link btn-novo popup-close">
                      <i class="mdi mdi-arrow-left"></i>
                    </a>
                  </div>
                  <strong class="title-descricao">Gerenciar Banners</strong>
                  <div style="width: 30px;"></div>
                </div>
                <div class="page-content">
                  <div class="block">
                    <div class="add-banner-card">
                      <button class="btn-add-banner" id="btnAdicionarBanner">
                        <i class="mdi mdi-plus"></i>
                        Adicionar Banner
                      </button>
                      <input type="file" id="novoBannerInput" accept="image/*" style="display: none;">
                    </div>

                    <div class="banners-list" id="bannersLista">
                      <!-- Banners serão listados aqui dinamicamente -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Popup de Sucesso -->
          <div class="popup popup-sucesso">
            <div class="view popup-view">
              <div class="page">
                <div class="page-content">
                  <div class="success-container">
                    <div class="success-icon">
                      <i class="mdi mdi-check-circle"></i>
                    </div>
                    <h2>Loja Criada com Sucesso!</h2>
                    <p>Sua loja está pronta e você já pode começar a divulgar seus produtos.</p>
                    
                    <div class="success-actions">
                      <button class="btn-share-now" id="btnCompartilharAgora">
                        <i class="mdi mdi-share"></i>
                        Compartilhar Agora
                      </button>
                      <button class="btn-continue" id="btnContinuar">
                        Continuar
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- Path to Framework7 Library Bundle JS-->
  <script type="text/javascript" src="lib/framework7-bundle.min.js"></script>
  <!-- jQuery -->
  <script type="text/javascript" src="lib/jquery-3.7.0.min.js"></script>
  <!-- Roteamento do app-->
  <script type="text/javascript" src="js/routes.js"></script>
  <script src="cordova.js"></script>
</body>
</html>