<!DOCTYPE html>
<html>
   <head>
      <!-- Required meta tags-->
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="apple-mobile-web-app-capable" content="yes" />
      <!-- Color theme for statusbar (Android only) -->
      <meta name="theme-color" content="#00591F" />
      <!-- Your app title -->
      <title>VitaTop</title>
      <!-- Path to Framework7 Library Bundle CSS -->
      <link rel="stylesheet" href="lib/framework7-bundle.min.css" />
      <!-- CSS PERSONALIZADO PARA MENU-->
      <link rel="stylesheet" href="css/index.css" />
      <link rel="stylesheet" href="css/gestao.css" />
      <!--Ícones Material Design-->
      <link rel="stylesheet" href="css/materialdesignicons.min.css" />
      <!-- Icones do Remix icon-->
      <link rel="stylesheet" href="css/remixicon/remixicon.css" />
   </head>
   <body>
      <!-- App root element -->
      <div id="app">
      <!-- Your main view, should have "view-main" class -->
      <div class="view view-main">
         <!-- Initial Page, "data-name" contains page name -->
         <div data-name="pedido-retirada" class="page color-theme-blue">
            <!-- NAV TOPO-->
            <div class="top-nav">
               <div class="left">
                  <a href="#" class="link btn-novo" onclick="app.views.main.router.back()">
                     <i class="mdi mdi-arrow-left"></i>
                  </a>
               </div>
               <div class="center">
                  <strong class="title-descricao">Pedido de Retirada</strong>
               </div>
               <div class="right">
                  <div style="width: 30px;"></div>
               </div>
            </div>
            <!-- Scrollable page content -->
            <div class="page-content" style="background-color: #f7f9fa; padding-bottom: 160px">
               
               <!-- Dashboard Header -->
               <div class="dashboard-header">
                  <h1>Solicitar Retirada</h1>
                  <p>Faça o pedido de retirada do seu saldo</p>
               </div>

               <!-- Carteira Digital Section -->
               <div class="dashboard-section">
                  <h2 class="section-title">Seu Saldo</h2>
                  <div class="wallet-card">
                     <div class="wallet-header">
                        <div class="wallet-icon">
                           <i class="mdi mdi-wallet"></i>
                        </div>
                        <div class="wallet-info">
                           <div class="wallet-label">Saldo Disponível</div>
                           <div class="wallet-balance">
                              <span id="saldoDisponivelRetirada">R$ 0,00</span>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>

               <!-- Chave PIX Section -->
               <div class="dashboard-section">
                  <h2 class="section-title">Chave PIX</h2>
                  <div class="card-dash">
                     <div class="card-header-dash">
                        <div class="card-title">
                           <i class="mdi mdi-qrcode"></i>
                           Chave PIX Cadastrada
                        </div>
                     </div>
                     <div class="pix-key-display">
                        <div class="pix-key-info">
                           <div class="pix-key-label">Chave PIX:</div>
                           <div class="pix-key-value" id="chavePixDisplay">
                              <span class="no-pix-key">Nenhuma chave PIX cadastrada</span>
                           </div>
                        </div>
                        <button class="btn-cadastrar-pix" id="btnCadastrarPix">
                           <i class="mdi mdi-plus-circle"></i>
                           Cadastrar PIX
                        </button>
                     </div>
                  </div>
               </div>

               <!-- Valor de Retirada Section -->
               <div class="dashboard-section">
                  <h2 class="section-title">Valor de Retirada</h2>
                  <div class="card-dash">
                     <div class="card-header-dash">
                        <div class="card-title">
                           <i class="mdi mdi-cash"></i>
                           Informe o Valor
                        </div>
                     </div>
                     <div class="valor-retirada-container">
                        <div class="input-group">
                           <label for="valorRetirada">Valor (R$)</label>
                           <input type="text" id="valorRetirada" placeholder="0,00" class="money-input">
                           <small style="color: #666; font-size: 12px; margin-top: 5px; display: block;">
                              Valor mínimo para retirada: R$ 100,00
                           </small>
                           <div id="pixValidationMessage" style="display: none; margin-top: 10px; padding: 10px; background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 5px; color: #856404; font-size: 12px;">
                              <i class="mdi mdi-information-outline" style="margin-right: 5px;"></i>
                              <strong>Atenção:</strong> O valor só pode ser adicionado após cadastrar uma chave PIX válida.
                           </div>
                        </div>
                        <div class="valor-info">
                           <div class="taxa-info">
                              <i class="mdi mdi-information-outline"></i>
                              <span>Taxa de retirada: R$ 2,50</span>
                           </div>
                           <div class="valor-liquido">
                              <span>Valor líquido:</span>
                              <strong id="valorLiquidoRetirada">R$ 0,00</strong>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>

               <!-- Botão de Saque -->
               <div class="dashboard-section">
                  <button class="btn-sacar-retirada" id="btnSacarRetirada" disabled>
                     <i class="mdi mdi-cash-refund"></i>
                     Solicitar Retirada
                  </button>
               </div>

               <!-- Refresh Button -->
               <button class="refresh-button update-button" id="updateRetirada">
                  <i class="mdi mdi-refresh"></i>
               </button>
            </div>
         </div>
      </div>

      <!-- Modal de Cadastro de PIX -->
      <div class="popup popup-cadastro-pix">
         <div class="popup-inner">
            <div class="popup-header">
               <h2>Cadastrar Chave PIX</h2>
               <button class="popup-close" onclick="app.popup.close('.popup-cadastro-pix')">
                  <i class="mdi mdi-close"></i>
               </button>
            </div>
            <div class="popup-body">
               <div class="pix-info-alert">
                  <i class="mdi mdi-information-outline"></i>
                  <p><strong>Importante:</strong> O nome da chave PIX deve ser o mesmo do seu cadastro no aplicativo.</p>
               </div>
               
               <div class="form-group">
                  <label for="tipoChavePix">Tipo de Chave PIX</label>
                  <select id="tipoChavePix" class="form-control">
                     <option value="">Selecione o tipo</option>
                     <option value="cpf">CPF</option>
                     <option value="cnpj">CNPJ</option>
                     <option value="email">E-mail</option>
                     <option value="celular">Celular</option>
                     <option value="aleatoria">Chave Aleatória</option>
                  </select>
               </div>
               
               <div class="form-group">
                  <label for="valorChavePix">Chave PIX</label>
                  <input type="text" id="valorChavePix" class="form-control" placeholder="Digite sua chave PIX">
               </div>
               
               <div class="form-group">
                  <label for="nomeChavePix">Nome da Chave PIX</label>
                  <input type="text" id="nomeChavePix" class="form-control" placeholder="Nome completo" readonly>
                  <small class="form-text">Nome será preenchido automaticamente com seus dados</small>
               </div>
               
               <div class="form-actions">
                  <button class="btn-cancelar" onclick="app.popup.close('.popup-cadastro-pix')">
                     Cancelar
                  </button>
                  <button class="btn-salvar-pix" id="btnSalvarPix">
                     <i class="mdi mdi-check"></i>
                     Salvar Chave PIX
                  </button>
               </div>
            </div>
         </div>
      </div>
      <!-- Path to Framework7 Library Bundle JS-->
      <script type="text/javascript" src="lib/framework7-bundle.min.js"></script>
      <!-- jQuery -->
      <script type="text/javascript" src="lib/jquery-3.7.0.min.js"></script>
      <script type="text/javascript" src="lib/jquery.mask.min.js"></script>
      <!-- Roteamento do app-->
      <script type="text/javascript" src="js/routes.js"></script>
      <script type="text/javascript" src="js/funcoes.js"></script>
      <script src="cordova.js"></script>
   </body>
</html>
